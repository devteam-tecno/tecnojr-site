# TecnoJR Animation System

The TecnoJR animation system uses **Framer Motion** with centralized configurations for consistent, performant animations.

## Philosophy

Animations should be:
- **Purposeful**: Guide attention, provide feedback
- **Subtle**: Enhance, don't distract
- **Performant**: 60fps on all devices
- **Accessible**: Respect reduced motion preferences

## Animation Constants

All timing values are centralized in `@/lib/animations.ts`:

### Durations

```tsx
import { DURATIONS } from '@/lib/animations';

DURATIONS.fast      // 0.3s - Micro-interactions
DURATIONS.standard  // 0.8s - Most UI animations
DURATIONS.slow     // 1.2s - Emphasis animations
DURATIONS.infinite  // 15s - Ambient effects
```

### Delays

```tsx
import { DELAYS } from '@/lib/animations';

DELAYS.none     // 0s
DELAYS.short    // 0.1s - Subtle stagger
DELAYS.medium   // 0.2s - Standard stagger
DELAYS.standard // 0.3s - Longer stagger
DELAYS.long     // 0.5s - Emphasis delay
```

### Transitions

```tsx
import { TRANSITIONS } from '@/lib/animations';

TRANSITIONS.standard     // duration: 0.8s
TRANSITIONS.fast         // duration: 0.3s
TRANSITIONS.slow         // duration: 1.2s
TRANSITIONS.spring       // Spring physics (stiffness: 100)
TRANSITIONS.springBouncy // Bouncy spring (stiffness: 260)
```

## Fade Animations

### Fade Variants

```tsx
import { fadeVariants } from '@/lib/animations';

fadeVariants.fadeUp    // Fade in from bottom
fadeVariants.fadeDown  // Fade in from top
fadeVariants.fadeLeft  // Fade in from left
fadeVariants.fadeRight // Fade in from right
fadeVariants.fadeIn    // Simple fade in
```

**Usage:**
```tsx
import { motion } from 'framer-motion';
import { fadeVariants } from '@/lib/animations';

<motion.div
  initial={fadeVariants.fadeUp.initial}
  animate={fadeVariants.fadeUp.animate}
  transition={fadeVariants.fadeUp.transition}
>
  Content
</motion.div>
```

### Scroll-Triggered Fades

```tsx
import { motion } from 'framer-motion';
import { fadeVariants, createViewport } from '@/lib/animations';

<motion.section
  initial="initial"
  whileInView="animate"
  viewport={createViewport({ once: true })}
  variants={{
    initial: fadeVariants.fadeUp.initial,
    animate: fadeVariants.fadeUp.animate,
  }}
>
  Animates when scrolled into view
</motion.section>
```

## Helper Functions

### createFadeUp

Simple fade up with custom delay:

```tsx
import { createFadeUp } from '@/lib/animations';

<motion.div {...createFadeUp(0.2)}>
  Fades up with 0.2s delay
</motion.div>
```

### createStaggeredFadeUp

Automatically calculates delay for list items:

```tsx
import { createStaggeredFadeUp } from '@/lib/animations';

{items.map((item, index) => (
  <motion.div key={item.id} {...createStaggeredFadeUp(index)}>
    {item.content}
  </motion.div>
))}
```

**Advanced with base delay:**
```tsx
{items.map((item, i) => (
  <motion.div {...createStaggeredFadeUp(i, 0.5)}>
    {/* Waits 0.5s, then staggers by 0.1s each */}
  </motion.div>
))}
```

### createViewport

Configures when scroll animations trigger:

```tsx
import { createViewport } from '@/lib/animations';

// Default - animate once when visible
<motion.div
  whileInView={{ opacity: 1 }}
  viewport={createViewport()}
/>

// Animate every time
<motion.div
  whileInView={{ opacity: 1 }}
  viewport={createViewport({ once: false })}
/>

// Trigger when 50% visible
<motion.div
  whileInView={{ opacity: 1 }}
  viewport={createViewport({ amount: 0.5 })}
/>

// Start 100px before entering viewport
<motion.div
  whileInView={{ opacity: 1 }}
  viewport={createViewport({ margin: '-100px' })}
/>
```

## Scale Animations

```tsx
import { scaleVariants } from '@/lib/animations';

scaleVariants.scaleFadeIn  // Scale + fade + move up
scaleVariants.scaleUp      // Simple scale up
scaleVariants.pulse        // Single pulse effect
```

**Usage:**
```tsx
<motion.button
  initial={scaleVariants.scaleFadeIn.initial}
  animate={scaleVariants.scaleFadeIn.animate}
  transition={scaleVariants.scaleFadeIn.transition}
>
  Button
</motion.button>
```

## Infinite Animations

For ambient effects and background elements:

```tsx
import { infiniteAnimations } from '@/lib/animations';

// Floating orbs
<motion.div
  animate={infiniteAnimations.floatingOrb.animate}
  transition={infiniteAnimations.floatingOrb.transition}
/>

// Rotating elements
<motion.div
  animate={infiniteAnimations.rotate360.animate}
  transition={infiniteAnimations.rotate360.transition}
/>

// Bouncing elements
<motion.div
  animate={infiniteAnimations.bounce.animate}
  transition={infiniteAnimations.bounce.transition}
/>
```

## Common Patterns

### Hero Section Animation

```tsx
import { motion } from 'framer-motion';
import { createFadeUp, DELAYS } from '@/lib/animations';

<section>
  {/* Title - first */}
  <motion.h1 {...createFadeUp(DELAYS.none)}>
    Welcome
  </motion.h1>
  
  {/* Subtitle - second */}
  <motion.p {...createFadeUp(DELAYS.medium)}>
    Description
  </motion.p>
  
  {/* CTA - third */}
  <motion.div {...createFadeUp(DELAYS.long)}>
    <Button>Get Started</Button>
  </motion.div>
</section>
```

### Grid with Stagger

```tsx
import { createStaggeredFadeUp } from '@/lib/animations';

<div className="grid grid-cols-3 gap-8">
  {items.map((item, i) => (
    <motion.div key={i} {...createStaggeredFadeUp(i)}>
      <Card {...item} />
    </motion.div>
  ))}
</div>
```

### Tabs Transition

```tsx
import { AnimatePresence, motion } from 'framer-motion';
import { fadeVariants } from '@/lib/animations';

<AnimatePresence mode="wait">
  <motion.div
    key={activeTab}
    initial={fadeVariants.fadeIn.initial}
    animate={fadeVariants.fadeIn.animate}
    exit={fadeVariants.fadeIn.initial}
    transition={{ duration: 0.2 }}
  >
    {tabContent}
  </motion.div>
</AnimatePresence>
```

### Card Hover Effect

```tsx
<motion.div
  whileHover={{ scale: 1.02 }}
  transition={TRANSITIONS.fast}
  className="cursor-pointer"
>
  <Card />
</motion.div>
```

## Performance Tips

### Use will-change

For smooth animations:
```css
.animated-element {
  will-change: transform, opacity;
}
```

### Prefer transform over position

```tsx
// ✓ Good - GPU accelerated
<motion.div animate={{ x: 100, y: 50 }} />

// ✗ Bad - Causes reflow
<motion.div animate={{ left: 100, top: 50 }} />
```

### Batch animations

```tsx
// ✓ Good - Single animation
<motion.div animate={{ x: 100, opacity: 1 }} />

// ✗ Bad - Multiple rerenders
<motion.div animate={{ x: 100 }} />
<motion.div animate={{ opacity: 1 }} />
```

## Reduced Motion

Automatically respected:
```tsx
<motion.div
  initial={{ opacity: 0, y: 20 }}
  animate={{ opacity: 1, y: 0 }}
  // Automatically skips animation if user prefers reduced motion
/>
```

Manual check:
```tsx
import { useReducedMotion } from 'framer-motion';

function MyComponent() {
  const shouldReduceMotion = useReducedMotion();
  
  return (
    <motion.div
      animate={shouldReduceMotion ? {} : { scale: 1.1 }}
    />
  );
}
```

## Testing Animations

Animations are mocked in tests:
```tsx
// tests/setup.ts already handles this
vi.mock('framer-motion', () => ({
  motion: { /* mocked */ },
}));
```

---

For complete animation configurations, see [@/lib/animations.ts](../../src/lib/animations.ts)
